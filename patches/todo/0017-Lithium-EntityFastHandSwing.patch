From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: IPECTER <ipectert@gmail.com>
Date: Thu, 27 Oct 2022 14:44:59 +0900
Subject: [PATCH] Lithium-EntityFastHandSwing

Mirai - etil2jz - GPL 3.0
Lithium - CaffeineMC  - GPL 3.0

diff --git a/src/main/java/com/github/ipecter/fusion/FusionConfig.java b/src/main/java/com/github/ipecter/fusion/FusionConfig.java
index 8f0064137605b870eb417a605772227c56d16ef2..55e8736e7136d4003b71badcf1b8b53dd22258c5 100644
--- a/src/main/java/com/github/ipecter/fusion/FusionConfig.java
+++ b/src/main/java/com/github/ipecter/fusion/FusionConfig.java
@@ -204,6 +204,7 @@ public class FusionConfig {
     public static boolean lithiumCollectionsStoreGameRules = true;
     public static boolean lithiumCollectionsPrecomputeShapeArrays = true;
     public static boolean lithiumEntityFastElytraCheck = true;
+    public static boolean lithiumEntityFastHandSwing = true;
 
     private static void lithiumConfig() {
         setComment("lithium", "[ Lithium ] General-Purpose Optimization Mod");
@@ -216,5 +217,6 @@ public class FusionConfig {
         lithiumCollectionsStoreGameRules = getBoolean("lithium.collections.store-gamerules", lithiumCollectionsStoreGameRules) && lithiumEnable;
         lithiumCollectionsPrecomputeShapeArrays = getBoolean("lithium.collections.precompute-shape-arrays", lithiumCollectionsPrecomputeShapeArrays) && lithiumEnable;
         lithiumEntityFastElytraCheck = getBoolean("lithium.entity.fast-elytra-check", lithiumEntityFastElytraCheck) && lithiumEnable;
+        lithiumEntityFastHandSwing = getBoolean("lithium.entity.fast-hand-swing", lithiumEntityFastHandSwing) && lithiumEnable;
     }
 }
\ No newline at end of file
diff --git a/src/main/java/net/minecraft/world/entity/LivingEntity.java b/src/main/java/net/minecraft/world/entity/LivingEntity.java
index 99d41757a69edbe9e27232563f2f8ba624edb8d2..cd7d5554f0a38759e768351010e2df8e095b7ae4 100644
--- a/src/main/java/net/minecraft/world/entity/LivingEntity.java
+++ b/src/main/java/net/minecraft/world/entity/LivingEntity.java
@@ -2549,6 +2549,8 @@ public abstract class LivingEntity extends Entity {
     }
 
     protected void updateSwingTime() {
+		if (com.github.ipecter.fusion.FusionConfig.lithiumEntityFastHandSwing && !this.swinging && this.swingTime == 0) return; // Fusion - Lithium: Entity Fast Hand Swing
+
         int i = this.getCurrentSwingDuration();
 
         if (this.swinging) {
